<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gráfico e Tabela de Gastos</title>
    <link rel="stylesheet" href="Bases web/Credito suplementar/styles_credito.css">
    <link rel="stylesheet" href="css/style.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        #expenseChart {
            max-width: 2000px; /* Define o tamanho do gráfico */
            margin: auto;
        }
        #historySection {
            display: none; /* Oculta a tabela inicialmente */
            margin-top: 20px;
        }
        #showHistoryBtn {
            display: block;
            margin: 20px auto; /* Centraliza o botão abaixo do gráfico */
            position: sticky; /* Fixa o botão */
            top: 0;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
		<div class="navbar">
			<div class="menu">
				<ul>
					<img id="logo_gastos" src="imagens/favicon.png" />
					<li>
						<a href="index.html">
							<h2 id="botao1">Início</h2>
						</a>
					</li>
					<li>
						<a href="sobre_nos.html">
							<h2 id="botao1">Sobre nós</h2>
						</a>
					</li>
					<li>
						<a href="sobre_projeto.html">
							<h2 id="botao1">Sobre o projeto</h2>
						</a>
					</li>
					<li class="dropdown">
						<a href="javascript:void(0)">
							<h2 id="botao1">Gráficos</h2>
						</a>
						<div class="dropdown-content">
							<a href="index_convenios.html">Convênios</a>
							<a href="index_compras.html">Compras</a>
							<a href="index_credito.html">Crédito</a>
                            <a href="index_escola.html">Escolas</a>
						</div>
					</li>
				</ul>
			</div>
		</div>

    <div>
        <h2>Gráfico de Crédito</h2>
        <select id="time-period">
            <option value="day">Dia</option>
            <option value="month">Mês</option>
        </select>
        <canvas id="expenseChart"></canvas>
    </div>

    <button id="showHistoryBtn">Ver Histórico</button>

    <div id="historySection">
        <h2>Detalhes dos Gastos</h2>
        <input type="text" id="searchInput" placeholder="Pesquisar por data ou decreto">
        <table>
            <thead>
                <tr>
                    <th>Data</th>
                    <th>Decreto</th>
                    <th>Valor</th>
                    <th>Link</th>
                </tr>
            </thead>
            <tbody id="decreeTable">
                <!-- As linhas da tabela serão inseridas aqui pelo JavaScript -->
            </tbody>
        </table>
    </div>

    <script src="Bases web/Credito suplementar/script.js"></script>
    <script>
        document.getElementById('showHistoryBtn').addEventListener('click', function() {
            const historySection = document.getElementById('historySection');
            if (historySection.style.display === 'block') {
                historySection.style.display = 'none';
                this.textContent = 'Ver Histórico';
            } else {
                historySection.style.display = 'block';
                this.textContent = 'Ocultar Histórico';
            }
        });

        document.getElementById('searchInput').addEventListener('keyup', function() {
            const searchValue = this.value.toLowerCase();
            const rows = document.querySelectorAll('#decreeTable tr');
            
            rows.forEach(row => {
                const dateCell = row.cells[0].textContent.toLowerCase();
                const decreeCell = row.cells[1].textContent.toLowerCase();
                if (dateCell.includes(searchValue) || decreeCell.includes(searchValue)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });
    </script>

    <!-- Footer -->
		<footer class="footer">
			<div class="footer__container">
				<h2 class="footer__title">Gastos Df</h2>
				<p class="footer__description"> <!-- Colocar aqui uma descrição maneira sobre o site --></p>
				<div class="footer__social">
					<a href="#" class="footer__link"><i class="bx bxl-linkedin"></i></a>
					<a href="#" class="footer__link"><i class="bx bxl-github"></i></a>
					<a href="#" class="footer__link"><i class="bx bxl-codepen"></i></a>
				</div>
				<p class="footer__copy">
					&#169; 2024 Gastos DF. Todos os direitos reservados
				</p>
			</div>
		</footer>

</body>
</html>
